"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EvenBus=function e(t){var c=this;_classCallCheck(this,e),_defineProperty(this,"on",function(e,t){var n=c._events.get(e);n?n&&"function"==typeof n?c._events.set(e,[n,t]):n.push(t):c._events.set(e,t),c.getListeners(e)}),_defineProperty(this,"emit",function(e){for(var t=c._events.get(e),n=arguments.length,r=new Array(1<n?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(Array.isArray(t)){var i=!0,a=!1,l=void 0;try{for(var o,f=t[Symbol.iterator]();!(i=(o=f.next()).done);i=!0){var u=o.value;0<r.length?u.apply(c,r):u.call(c)}}catch(e){a=!0,l=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw l}}}else 0<r.length?t.apply(c,r):t.call(c)}),_defineProperty(this,"remove",function(e){e?c._events.delete(e):c._events.clear()}),_defineProperty(this,"getListeners",function(e){if(e&&c._listeners++,c._listeners>c._maxListeners)throw"The current number of listens is greater than the maximum number";return!0}),this._events=this._events||new Map,this._listeners=this._listeners||0,this._maxListeners=t||10};module.exports=EvenBus;
